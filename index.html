<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Temperature Logging with Twine</title>

    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {

        var query = new google.visualization.Query(
      'https://docs.google.com/spreadsheet/ccc?key=0AuC8Jc9vPbledDBVYWFQc2FLOFFWQ1luSTVJM0ZqT1E&usp=sharing');

        query.send(handleQueryResponse);

      }

      function handleQueryResponse(response) {
        if (response.isError()) {
          alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
          return;
        }

        var data = response.getDataTable();

        var chart = new google.visualization.LineChart(document.getElementById('chart_div'));

        var options = {
          title: 'Temperature Monitoring',
          curveType: 'function',
          explorer: { actions: ['dragToZoom', 'rightClickToReset']  },
          legend: { position: 'bottom' },
          hAxis: { format: 'h:mm a M/d'}
        };

        chart.draw(data, options);
      }

    </script>

  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1></h1>
        </header>

        <hr>

        <section id="main_content">

          <h3>Current Temperatures</h3>
          
          <p>Below is the current external and internal temperatures.</p>

          <hr>

          <h3>Temperature Log</h3>

          <p>Below is the temperature log.</p>

          <div id="chart_div" style="width: 100%; height: 500px;"></div>


        </section>

        <hr>

        <footer>
          
        </footer>

      </div>
    </div>
  </body>
</html>